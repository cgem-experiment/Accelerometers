# Accelerometers

## 
This accelerometer system includes an ADXL354 accelerometer, AD7177-2 ADC and an STM32H7 microcontroller. The system is configured to sample 3-axis acceleration data using SPI with DMA and transmit it over UDP at ~815 Hz per channel. The ADXL354 operates in ±4g mode with a 1.8 V reference (V_1p8ana), which also serves as the ADC’s REF+. Calibration procedures have been performed to determine accurate gain and offset values for each axis. 

The folder 'AD7177_H723ZG_20250612_v2' contains the firmware. The script 'v2_UDP_Socket.py' is run to send data via ethernet and store it in a csv file. The notebook 'Import_and_display_data.ipynb' can be used to analyze data. The notebook 'Calibration2_Import_data.ipynb' contains the code I used to obtain the values for gain and offset. It can also be used to obtain new gain and offset values for a new ADXL354, or if the current ADXL354 is moved to a new mount.

The firmware should be flashed onto an STM32H723ZG using STM32Cube IDE. 

If reconfiguring anything in CubeMX (ioc file), there are some changes that must be made to the autogenerated code in main.c. In the MX\_GPIO\_INIT function, remove "HAL\_NVIC\_EnableIRQ(EXTI9\_5\_IRQn)". This is the last line of the function. Additionally, remove "MX\_LWIP\_INIT()" from "startDefaultTask()". 

For more information on the system, see "Accelerometer System Status Update July 2025" in the document library, added on July 8, 2025. Also see "Accelerometer System Update" Added on July 24, 2025.





